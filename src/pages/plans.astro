---
import ExpandableQA from "../components/plans/ExpandableQA";
import Plan from "../components/plans/Plan.astro";
import CenteredLayout from "../layouts/CenteredLayout.astro";
import { getPlans } from "./async/utils";

const plans = await getPlans('usd');
---

<CenteredLayout title="Get Noter, your AI-powered notebook."
                description="Accelerate your study with Noter. Access autogenerated quizzes, summaries, and study guides with our affordable premium plans.">
    <h1>Plans</h1>

    <dibv class="plans">
        { plans.map(p => (
            <Plan product={p.product} price={p.price} />
        ) ) }
    </div>

    <div class="faq">
        <h1>Frequently Asked Questions</h1>

        <ExpandableQA question="How does the Free Trial work? How long is it?" answer="The free trial lasts 7 days from the day you start the trial. If you have not canceled the trial by the time it is up, your billing cycle begins at the end of the trial, and we will bill you. You may have only one free trial." client:load />
        <ExpandableQA question="What is Autonote?" answer="Autonote takes your notes for you by using your microphone to record a lecture. Then, the lecture is sent to our AI which creates a full, detailed note document with images and everything else for you. The recording is saved with the note." client:load />
        <ExpandableQA question="How does note sharing work?" answer="Free users cannot share notes with anyone else. Premium users can share notes with other Noter users only and share notes with a public, view only link." client:load />
        <ExpandableQA question="What is Stripe?" answer="Stripe is our third party payments processor." client:load />
        <ExpandableQA question="Do you sell personal information?" answer="No. We will never share your personally identifiable information with anyone." client:load />
        <ExpandableQA question="Are purchases refundable?" answer="No." client:load />
    </div>


</CenteredLayout>

<style>
    h1 {
        text-align: center;
        font-size: 3em;
    }

    .plans {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        align-items: center;
        justify-content: center;
        margin-bottom: 100px;
    }

    .faq {
        margin-bottom: 4rem;
    }
</style>