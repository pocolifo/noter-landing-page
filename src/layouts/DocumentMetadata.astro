---
import type { Graph } from 'schema-dts';

interface Props {
    title: string;
}

const { title } = Astro.props as Props;

const PAGE_URL = Astro.url;
const SITE_URL = Astro.site || new URL('https://getnoter.com');
const DESCRIPTION = "Noter, your AI-powered notebook for school, helps you ace your tests with auto-generated study guides, note summaries, and practice tests.";
const KEYWORDS = "ai notetaking for schoool,ai notetaking summarizer,study guide generator,note app for college students";
const graph: Graph = {
    "@context": "https://schema.org",
    "@graph": [
        {
            "@type": "WebPage",
            "@id": PAGE_URL.toString(),
            "dateModified": new Date().toISOString(),
            "author": "Noter.",
            "inLanguage": "en-US",
            "isPartOf": {
                "@type": "WebSite",
                "@id": `${SITE_URL.toString()}#website`,
                "url": SITE_URL.toString(),
                "name": "Noter.",
                "alternateName": "Noter",
                "description": DESCRIPTION,
                "inLanguage": "en-US",
                "keywords": KEYWORDS,
                "dateModified": new Date().toISOString(),
                "publisher": {
                    "@type": "Organization",
                    "@id": `${SITE_URL.toString()}#organization`,
                    "name": "Noter.",
                    "alternateName": "Noter",
                    "url": SITE_URL.toString(),
                    // TODO: logo -- need favicon
                }
            }
        }
    ]
}
---
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="UTF-8" />
<meta name="description" content={ DESCRIPTION }>
<meta property="keywords" content={ KEYWORDS } />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="canonical" href={ SITE_URL }>
<link rel="sitemap" href="/sitemap-index.xml" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

<meta property="og:type" content="website" />
<meta property="og:description" content={DESCRIPTION} />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="Noter." />
<meta property="og:image" content={`${SITE_URL}og.png`} />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="559" />
<meta property="og:image:height" content="251" />
<meta property="og:image:alt" content="Large black text reading 'Noter.' in a serif font layered on a white grid resembling graph paper." />

<meta name="twitter:title" content="Noter." />
<meta name="twitter:description" content={ DESCRIPTION } />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content={`${SITE_URL}og.png`} />
<meta name="twitter:domain" content={ SITE_URL }>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;800&family=Playfair+Display:wght@400;800&display=swap" rel="stylesheet">

<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "d3d0b46c57cb4400bdf0f86d4718f20f"}'></script>

<script type="application/ld+json" set:html={ JSON.stringify(graph) }></script>

<title>{title}</title>